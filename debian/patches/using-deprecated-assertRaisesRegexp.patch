Description: Using the old, deprecated, assertRaisesRegexp()
 Nova is using the new assertRaisesRegex() definition, but Debian only has
 the older assertRaisesRegexp(). This patch goes backward in the unit tests.
 Hoping a better fix may be find soonish in Debian.
 .
 Thanks to S. Bauza for his help on this issue.
Author: Thomas Goirand <zigo@debian.org>
Forwarded: not-needed
Last-Update: 2015-04-13

Index: nova/nova/tests/unit/compute/test_claims.py
===================================================================
--- nova.orig/nova/tests/unit/compute/test_claims.py
+++ nova/nova/tests/unit/compute/test_claims.py
@@ -177,14 +177,14 @@ class ClaimTestCase(test.NoDBTestCase):
 
     def test_disk_insufficient(self, mock_get):
         limits = {'disk_gb': 45}
-        self.assertRaisesRegex(
+        self.assertRaisesRegexp(
                 exception.ComputeResourcesUnavailable,
                 "disk",
                 self._claim, limits=limits, root_gb=10, ephemeral_gb=40)
 
     def test_disk_and_memory_insufficient(self, mock_get):
         limits = {'disk_gb': 45, 'memory_mb': 8192}
-        self.assertRaisesRegex(
+        self.assertRaisesRegexp(
                 exception.ComputeResourcesUnavailable,
                 "memory.*disk",
                 self._claim, limits=limits, root_gb=10, ephemeral_gb=40,
Index: nova/nova/tests/unit/objects/test_objects.py
===================================================================
--- nova.orig/nova/tests/unit/objects/test_objects.py
+++ nova/nova/tests/unit/objects/test_objects.py
@@ -457,7 +457,7 @@ class _TestObject(object):
         class Foo(base.NovaObject):
             fields = {'foobar': fields.IntegerField()}
         obj = Foo()
-        with self.assertRaisesRegex(NotImplementedError, ".*foobar.*"):
+        with self.assertRaisesRegexp(NotImplementedError, ".*foobar.*"):
             obj.foobar
 
     def test_loaded_in_primitive(self):
